# todo-app

> 깃헙에 스스로 한 무언가를 처음 커밋해보는데 커밋을 뭉탱이로 해버렸다. 이미 지나간 커밋 어쩔 수 없다.
> 마크다운 언어도 잘 알지 못하기 때문에 한번 시험 삼아 커밋해봐야지.

> 마크다운 신기하다

## todo-list 만든 과정

1. HTML마크업

- form 태그 작성 후 input 태그로 텍스트를 받아올 수 있게 함
- 리스트의 형식은 ul-li 로 만들어도 되고, 자바스크립트 createElement 를 활용해 div 를 활용한 list 를 만들 수 있음

2. input 의 경우 엔터를 치면 브라우저가 리셋 되는 기본 이벤트가 있기 때문에 preventDefault()로 이벤트를 제거해줌

3. input 에 입력된 value 값 가져오기

- querySelector , getElementById 등으로 HTML요소를 불러온 다음 input 에 받아진 value값을 들고 온다.

4. 나는 리스트 형식으로 투두리스트를 만들었는데 css 로 어느정도 꾸며준 다음 인풋에 입력된 값을 추출하여 p태그에 밸류값을 주었으며 li, input, span(time), span(deleteBtn)은 각각 변수를 선언하여 인풋으로 새로 추가될 때 클래스네임도 부여될 수 있도록 하였다. lassList.add) 원래는 작성 시간을 같이 노출시키고자 하였으나 그것은 백단에서 해결할 수 있는 부분이라고 하여 잠시 보류. 완성된 함수는 addEventListener를 이용하여 클릭 시 실행될 수 있도록 하였다

5. delete 구현의 경우에는 각 버튼별로 구분이 되는 것이 아니므로 각 버튼이 어떤 내용과 이어져있는 지 확인할 수 있는 무언가가 필요했다. 이에 대해서 서적에서는 data-\* 속성을 이용해 구분해주었는데, 나는 해당 엘리먼트의 세부속성을 통해 처리했다. (노마드 코더 강의 참고)
   console.log 로 event 의 세부를 확인해 target 을 확인하였으며, button 직전의 타겟은 list 임을 알 수 있다. console.log(event.target) 만으로는 더 자세한 정보 확인이 어려워 console.dir 을 통해 버튼의 parentNode 값을 확인했다. parent값은 list 값이었으며, 해당 버튼의 부모 li만 삭제하게 될 경우 자연스럽게 개별적으로 투두리스트를 삭제할 수 있게 된다

6. 투두리스트 저장은 localStorage를 이용한다. 먼저 작성되는 투두의 밸류값을 push()메소드를 이용해 배열로 만든다. () => {localStorage.setItem("저장공간 이름", 저장될 요소(배열))} 같은 내용의 함수를 작성해 로컬스토리지에 배열값을 저장한다 (로컬스토리지에 저장된 직후에는 배열에 담겨있지 않고 쌓인다)

7. 그러므로 우선 스트링으로 변환시켜 로컬스토리지에 저장해주는데 이를 위해 자바스크립트의 어떤 형식의 자료형이든 스트링으로 변환시켜주는 JSON.stringify() 메소드로 문자열화 시켜준다

8. 이렇게 문자열화된 정보를 다시 배열화시켜준다. 이때 사용하는 메소드는 JSON.parse()이다

9. 로컬스토리지에 저장된 요소를 localStorage.getItem(키값 이름) 을 통해 불러온다.

10. 배열화된 투두 아이템을 forEach() 메소드로 각각 요소마다 함수가 실행될 수 있게 해준다. (forEach함수는 배열의 각 요소들을 하나하나 불러온다) if문을 통해 만약 키값에 저장된 요소가 있을 경우(null이 아닐 경우) JSON.parse() 로 배열화됐던 요소 하나하나마다 todo 생성 펑션을 적용시켜 다시 생성될 수 있도록 해준다.

11. 로컬스토리지에 저장된 내용은 delete버튼을 눌렀을 때 사라지지 않는다. 이를 제거하기 위해서는 저장되는 내용을 각각 구분할 수 있도록 하는 것이 선행되어야하는데, 이를 위해 배열이 아닌 object 화 시킬 수 있도록 하고, 각각 값마다 유일한 id값을 줄 수 있도록 한다. 이 때는 여러가지 방법이 있겠으나 date.now() 메소드를 이용해 (ms초 단위로 작성되기 때문에 인간의 입력으로는 중복될 수 없다) id값을 생성해준다.

12. 생성된 id값으로 딜리트를 활성화 하기 위해서는 로컬스토리지의 키값에 뿐만 아니라 생성되는 li 에도 입력되어야한다. 이를 위해 li 가 생성될 때 오브젝트 요소로 생성될 수 있게 하고, 텍스트와 id값이 입력되어 html에 기재될 수 있도록 한다.

13. 오브젝트를 출력할 경우 원하는 값이 출력되지 않기 때문에, li에 textContent되는 내용은 텍스트 값에 한정되도록 한다.

14. li태그에도 id가 생성되었으므로 이를 비교하여 같은 값일 경우 split 하여 재배열할 수 있도록 한다. 이 때 li 에 있는 id값과 배열에 존재하는 id값은 자료형이 달라 바로 비교가 되지 않으므로 이를 맞춰준다. 나는 parseInt() 메소드를 통해 li태그에 있는 id(string값)을 숫자로 변경시켜 비교했다.

15. 그리고 마지막으로 정리되어 재배열된 배열을 딜리트 버튼을 누르면 출력될 수 있도록 딜리트 관련 함수 내부에 넣어준다.
